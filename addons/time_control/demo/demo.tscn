[gd_scene format=3 uid="uid://d1nvh6mrqvjrv"]

[ext_resource type="Script" uid="uid://bo46h11wqtm0t" path="res://addons/time_control/demo/character.gd" id="1_8gkyk"]
[ext_resource type="Script" uid="uid://bug3nvsxson1r" path="res://addons/time_control/demo/demo.gd" id="1_f8e7l"]
[ext_resource type="Script" uid="uid://c21jxmko6icy7" path="res://addons/time_control/scripts/timeline.gd" id="2_u5334"]
[ext_resource type="Texture2D" uid="uid://cvi6nbtp2r4hf" path="res://addons/time_control/demo/player.svg" id="4_ftd4g"]
[ext_resource type="Resource" uid="uid://dovo5yrk24mr" path="res://addons/time_control/resources/player_clock.tres" id="4_r45sy"]
[ext_resource type="Script" uid="uid://b1n0n5yg7ftah" path="res://addons/time_control/demo/enemy.gd" id="6_jsae0"]
[ext_resource type="Texture2D" uid="uid://ip20xusykjrr" path="res://addons/time_control/demo/enemy.svg" id="6_pydwm"]
[ext_resource type="Resource" uid="uid://kbvuqggcs6gj" path="res://addons/time_control/resources/enemy_clock.tres" id="8_bes37"]
[ext_resource type="Resource" uid="uid://cum8uvnthdi6e" path="res://addons/time_control/resources/environment_clock.tres" id="9_ulxo8"]
[ext_resource type="Script" uid="uid://c1mbwusbhrsb8" path="res://addons/time_control/scripts/timeline_aware_node/gpu_particles_2d_timeline.gd" id="10_43gox"]

[sub_resource type="Gradient" id="Gradient_qtq74"]
offsets = PackedFloat32Array(1)
colors = PackedColorArray(0.030334815, 0.043138005, 0.07010319, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ulxo8"]
gradient = SubResource("Gradient_qtq74")
width = 1280

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hi8dl"]
size = Vector2(64, 64)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_76n0v"]
size = Vector2(64, 64)

[sub_resource type="Curve2D" id="Curve2D_a1ki5"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 504, 0, 0, 0, 0, 977, 502, 0, 0, 0, 0, 980, -1, 0, 0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_43gox"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -27, 59, 0, 0, 0, 0, -28, -214, 0, 0, 0, 0, 545, -209, 0, 0, 0, 0, 544, 58)
}
point_count = 4

[sub_resource type="Theme" id="Theme_3esah"]
default_font_size = 8

[sub_resource type="Gradient" id="Gradient_ulxo8"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_43gox"]
gradient = SubResource("Gradient_ulxo8")
width = 4
height = 4

[sub_resource type="Gradient" id="Gradient_43gox"]
offsets = PackedFloat32Array(0, 0.26587301, 0.6230159, 1)
colors = PackedColorArray(1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_5rtqb"]
gradient = SubResource("Gradient_43gox")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_5rtqb"]
lifetime_randomness = 0.25
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(700, 40, 1)
direction = Vector3(10, 0, 0)
spread = 0.0
initial_velocity_min = 10.0
initial_velocity_max = 30.0
gravity = Vector3(0, 0, 0)
color = Color(1, 0.26666665, 0, 0.7019608)
color_ramp = SubResource("GradientTexture1D_5rtqb")

[node name="TimeControlDemo" type="Node2D" unique_id=1359216521 node_paths=PackedStringArray("player_00_button", "player_05_button", "player_10_button", "player_20_button", "enemy_00_button", "enemy_05_button", "enemy_10_button", "enemy_20_button", "reset_button")]
script = ExtResource("1_f8e7l")
player_00_button = NodePath("CanvasLayer/HBoxContainer/VBoxContainer/Player_00")
player_05_button = NodePath("CanvasLayer/HBoxContainer/VBoxContainer/Player_05")
player_10_button = NodePath("CanvasLayer/HBoxContainer/VBoxContainer/Player_10")
player_20_button = NodePath("CanvasLayer/HBoxContainer/VBoxContainer/Player_20")
enemy_00_button = NodePath("CanvasLayer/HBoxContainer/VBoxContainer2/Enemy_00")
enemy_05_button = NodePath("CanvasLayer/HBoxContainer/VBoxContainer2/Enemy_05")
enemy_10_button = NodePath("CanvasLayer/HBoxContainer/VBoxContainer2/Enemy_10")
enemy_20_button = NodePath("CanvasLayer/HBoxContainer/VBoxContainer2/Enemy_20")
reset_button = NodePath("CanvasLayer/HBoxContainer/VBoxContainer3/Reset")
player_clock_configuration = ExtResource("4_r45sy")
enemy_clock_configuration = ExtResource("8_bes37")
environment_clock_configuration = ExtResource("9_ulxo8")

[node name="Sprite2D" type="Sprite2D" parent="." unique_id=319906440]
scale = Vector2(1, 12.1875)
texture = SubResource("GradientTexture2D_ulxo8")

[node name="Camera2D" type="Camera2D" parent="." unique_id=1440653571]
drag_horizontal_enabled = true
drag_vertical_enabled = true
drag_left_margin = 0.75
drag_top_margin = 0.75
drag_right_margin = 0.75
drag_bottom_margin = 0.75
editor_draw_drag_margin = true

[node name="Player" type="CharacterBody2D" parent="." unique_id=1248473571 node_paths=PackedStringArray("timeline")]
position = Vector2(-1, 0)
collision_layer = 2
motion_mode = 1
script = ExtResource("1_8gkyk")
timeline = NodePath("Timeline")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player" unique_id=1274705601]
shape = SubResource("RectangleShape2D_hi8dl")

[node name="Sprite2D" type="Sprite2D" parent="Player" unique_id=519459622]
scale = Vector2(0.5, 0.5)
texture = ExtResource("4_ftd4g")
metadata/_aseprite_wizard_interface_config_ = {
"layer_section": false
}

[node name="Timeline" type="Node" parent="Player" unique_id=1839820458]
script = ExtResource("2_u5334")
clock_configuration = ExtResource("4_r45sy")

[node name="Enemy" type="CharacterBody2D" parent="." unique_id=1260603408 node_paths=PackedStringArray("timeline", "path_follow_2d")]
position = Vector2(-488, -256)
rotation = 1.5707964
collision_mask = 2
motion_mode = 1
script = ExtResource("6_jsae0")
timeline = NodePath("Timeline")
path_follow_2d = NodePath("../Path2D/PathFollow2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy" unique_id=1862610305]
shape = SubResource("RectangleShape2D_76n0v")

[node name="Sprite2D" type="Sprite2D" parent="Enemy" unique_id=400828478]
modulate = Color(0.98275, 6.08854e-06, 1.54018e-06, 1)
scale = Vector2(0.5, 0.5)
texture = ExtResource("6_pydwm")

[node name="Timeline" type="Node" parent="Enemy" unique_id=280519675]
script = ExtResource("2_u5334")
clock_configuration = ExtResource("8_bes37")

[node name="Path2D" type="Path2D" parent="." unique_id=1513258298]
position = Vector2(-488, -256)
curve = SubResource("Curve2D_a1ki5")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D" unique_id=535623633]
rotation = 1.5707964
loop = false

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Path2D/PathFollow2D" unique_id=253318310]
remote_path = NodePath("../../../Enemy")

[node name="Enemy2" type="CharacterBody2D" parent="." unique_id=1629626364 node_paths=PackedStringArray("timeline", "path_follow_2d")]
position = Vector2(-292, 127)
collision_mask = 2
motion_mode = 1
script = ExtResource("6_jsae0")
timeline = NodePath("Timeline")
path_follow_2d = NodePath("../Path2D2/PathFollow2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy2" unique_id=1179332321]
shape = SubResource("RectangleShape2D_76n0v")

[node name="Sprite2D" type="Sprite2D" parent="Enemy2" unique_id=933249053]
modulate = Color(0.98275, 6.08854e-06, 1.54018e-06, 1)
scale = Vector2(0.5, 0.5)
texture = ExtResource("6_pydwm")

[node name="Timeline" type="Node" parent="Enemy2" unique_id=1717375478]
script = ExtResource("2_u5334")
clock_configuration = ExtResource("8_bes37")

[node name="Path2D2" type="Path2D" parent="." unique_id=1784624733]
position = Vector2(-265, 68)
curve = SubResource("Curve2D_43gox")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D2" unique_id=1219219881]
position = Vector2(-27, 59)
rotates = false

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Path2D2/PathFollow2D" unique_id=2104682212]
remote_path = NodePath("../../../Enemy2")

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=1805186065]

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer" unique_id=1626807075]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_3esah")

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/HBoxContainer" unique_id=1769265569]
layout_mode = 2
alignment = 2

[node name="Label" type="Label" parent="CanvasLayer/HBoxContainer/VBoxContainer" unique_id=682165328]
layout_mode = 2
text = "Player"

[node name="Player_00" type="Button" parent="CanvasLayer/HBoxContainer/VBoxContainer" unique_id=774066305]
layout_mode = 2
text = "Time scale = 0"

[node name="Player_05" type="Button" parent="CanvasLayer/HBoxContainer/VBoxContainer" unique_id=342161954]
layout_mode = 2
text = "Time scale = 0.5"

[node name="Player_10" type="Button" parent="CanvasLayer/HBoxContainer/VBoxContainer" unique_id=1558277110]
layout_mode = 2
text = "Time scale = 1"

[node name="Player_20" type="Button" parent="CanvasLayer/HBoxContainer/VBoxContainer" unique_id=691636671]
layout_mode = 2
text = "Time scale = 2"

[node name="VBoxContainer2" type="VBoxContainer" parent="CanvasLayer/HBoxContainer" unique_id=382059201]
layout_mode = 2
alignment = 2

[node name="Label" type="Label" parent="CanvasLayer/HBoxContainer/VBoxContainer2" unique_id=2089292256]
layout_mode = 2
text = "Enemy"

[node name="Enemy_00" type="Button" parent="CanvasLayer/HBoxContainer/VBoxContainer2" unique_id=607917313]
layout_mode = 2
text = "Time scale = 0"

[node name="Enemy_05" type="Button" parent="CanvasLayer/HBoxContainer/VBoxContainer2" unique_id=1763538617]
layout_mode = 2
text = "Time scale = 0.5"

[node name="Enemy_10" type="Button" parent="CanvasLayer/HBoxContainer/VBoxContainer2" unique_id=1413815650]
layout_mode = 2
text = "Time scale = 1"

[node name="Enemy_20" type="Button" parent="CanvasLayer/HBoxContainer/VBoxContainer2" unique_id=1797008434]
layout_mode = 2
text = "Time scale = 2"

[node name="VBoxContainer3" type="VBoxContainer" parent="CanvasLayer/HBoxContainer" unique_id=1341330225]
layout_mode = 2
alignment = 2

[node name="Reset" type="Button" parent="CanvasLayer/HBoxContainer/VBoxContainer3" unique_id=424882203]
layout_mode = 2
text = "Reset"

[node name="GPUParticles2D" type="GPUParticles2D" parent="." unique_id=869557369]
scale = Vector2(1, 12.1875)
amount = 80
texture = SubResource("GradientTexture2D_43gox")
lifetime = 6.0
preprocess = 1.46
speed_scale = 4.0
process_material = SubResource("ParticleProcessMaterial_5rtqb")

[node name="EnvironmentTimeline" type="Node" parent="." unique_id=1476970138]
script = ExtResource("2_u5334")
clock_configuration = ExtResource("9_ulxo8")
metadata/_custom_type_script = "uid://c21jxmko6icy7"

[node name="GPUParticles2DTimeline" type="Node" parent="." unique_id=308498828 node_paths=PackedStringArray("gpu_particles_2d", "timeline")]
script = ExtResource("10_43gox")
gpu_particles_2d = NodePath("../GPUParticles2D")
timeline = NodePath("../EnvironmentTimeline")
